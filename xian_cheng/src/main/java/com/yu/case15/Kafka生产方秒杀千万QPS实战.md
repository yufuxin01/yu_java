大型电商互联网企业在双11,双12,618等场景下,经常会出现千万级别qps的秒杀,这类技术场景对高并发,高性能方面的要求很高

假设你是大型电商互联网企业的架构师,基于Kafka,zookeeper,多线程等技术,基于单台服务器,MQ生产方发送一千万个User对象,User对象包含id,name这两个属性.

要求:实现以下两种技术功能:

1.并发场景:消息生产方在14秒内完成.

2.串行场景:消息生产方串行发送1千万个User对象.

统计1,2场景下发送User对象个数以及花费的时间.





# 代码说明

BasicProducer基本的MQ生产者

BasicConsumer基本的MQ消费者

BatchProducer 批量的MQ生产者

SingleProducer单挑的MQ生产者

DistrIdGenerator2 分布式Id生成类

TestBatchProducer 并发测试类





# 头能风暴

1.如何提高生产消息的效率,批量生产,多线程,线程池批量生产数据.



如果逐条发送网络耗时大,串行发送耗时时间长,

如果批量发送的话,网络耗时减少,并行发送耗时短.











