# 案例背景

在实际研发场景中,经常会出现并发数据一致性的问题,如果解决不好,会导致数据逻辑发生错误.

假设有这种并发场景:A用户开了一个银行账户,账户初始金额为10000元,另外会计张三每隔一段时间向该账户转账100元,账户余额上限是20000元.另外用两个用户李四和王五每隔一段时间并发地从该账户分别取款100元,200元,直到账户总金额为0结束并发.

如果你是架构师,在上述多种角色并发操作账户金额的技术场景下,请运用多线程并发编程等相关基础知识实现账户金额数据的一致性问题.

# 解决方法

用原子类

